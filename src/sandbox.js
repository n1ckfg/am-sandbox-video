import{c as t,W as r,s as a,$ as i,_ as o,w as e,T as c}from"./vendor.js";import{Preload as n}from"./Preload.js";var f=function(){var f=t((function*(f){var{artifact:s,file:l,root:d}=f;r.SUPPORTS=yield a();var{XR:R}=r.SUPPORTS,u=i("#show-artifact");if(!s){r.SUPPORTS.WEBP=!1,r.SUPPORTS.WEBM=!1;var{default:p}=yield import("".concat(d,"/").concat(l));s=o(o({},p),{},{city:""})}i.on(u,"click",(r=>{var{artifact:a,map:o,root:e,XR:f=!1}=r;return t((function*(){var t=new n({artifact:a,root:e,THREE:c}),r=i("#show-artifact");r.disabled=!0;try{t._isWorking||(yield t.init({artifact:a,map:o,THREE:c,XR:f}),yield t.startEngine({artifact:a,map:o,THREE:c,XR:f}),r.disabled=!1)}catch(r){r.toString().toLowerCase().includes("error creating webgl context")?t.showWebglDisabledNotification():console.error("onButtonClick: preload.init failed",r)}}))})({artifact:s,root:d,XR:R})),e&&i("a").forEach((t=>{t.removeAttribute("target")}))}));return function(t){return f.apply(this,arguments)}}();export{f as sandbox};
